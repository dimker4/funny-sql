DECLARE @text NVARCHAR(MAX) = '123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789
123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789
123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789123456789'
DECLARE @new_text NVARCHAR(MAX) = '';


WHILE (@text IS NOT NULL OR LEN(@text) > 0)
BEGIN
  SELECT @text = tail_text, 
         @new_text = CONCAT(@new_text, new_text)
    FROM make_body_cock(@text);
  
  SELECT @text = tail_text, 
         @new_text = CONCAT(@new_text, new_text)
    FROM dbo.make_footer_cock(@text);
END;


SELECT @new_text;